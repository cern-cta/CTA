#-------------------------------------------------------------------------------
# Location of the plugin OFS library to be loaded + XRootD config
#-------------------------------------------------------------------------------
xrootd.fslib -2 /usr/lib64/libxrdxcastor2ofs.so.2.1
xrootd.async off nosf
xrootd.trace emsg login
xrd.port 1095
xrd.network keepalive
xrd.trace conn net
all.export / nolock
ofs.trace open close
ofs.persist off

#-------------------------------------------------------------------------------
# Load access control plugin
#-------------------------------------------------------------------------------
ofs.authlib /usr/lib64/libxrdxcastor2acc.so.2.1
ofs.authorize
xcastor2.capability true
xcastor2.publickey /opt/xrootd/keys/pkey.pem

#-------------------------------------------------------------------------------
# Log level which is the same as the one used by syslog. By default it's INFO.
# The filter will print out log messages only from the specified function.
#-------------------------------------------------------------------------------
#xcastor2.loglevel 6
#xcastor2.debugfilter some_function

#-------------------------------------------------------------------------------
# Security plugins
#-------------------------------------------------------------------------------
xrootd.seclib /usr/lib64/libXrdSec.so
sec.protocol /usr/lib64 unix

#-------------------------------------------------------------------------------
# To enable persistency on successful close, you have to allow all disk servers 
# to call back to the manager by adding the following.
#-------------------------------------------------------------------------------
# sec.protbind lxfs*.cern.ch only unix
xcastor2.posc false

#-------------------------------------------------------------------------------
# Enable native third-party copy support using xrdcp
#-------------------------------------------------------------------------------
ofs.tpc pgm /usr/bin/xrdcp -f --nopbar


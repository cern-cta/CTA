COMM       @(#)Imakefile,v 1.12 2002/11/28 06:54:12 CERN IT-PDP/DM Jean-Philippe Baud
COMM
COMM  Copyright (C) 1990-2002 by CERN/IT/PDP/DM
COMM  All rights reserved
COMM

COMM		Make CASTOR libraries and executables

SUBDIRS = $(COMMONDIR) $(DLFDIR) $(SECURITYDIR) $(UPVDIR) $(DBDIR) $(NSDIR) $(RFIODIR) \
	  $(EXPERTDIR) $(RMCDIR) $(SYSREQDIR) $(RTCOPYDIR) $(CLIENTSDIR) \
	  $(TAPEDIR) $(VDQMDIR) $(VMGRDIR) $(COPYTAPEDIR) \
	  $(EXAMPLESDIR) $(HSMTOOLSDIR) h $(COMMONCPPDIR) config \
	  $(RESOURCEMONITORINGDIR) $(GRIDFTPDIR) $(SHLIBDIR)

clean: imakeclean
clobber: imakeclobber

purge: clobber
	find . -name Makefile -print | grep -v codeGeneration | xargs rm -f;	\
	find . -name Makefile.bak -print | grep -v codeGeneration | xargs rm -f

imakeclean:
	@(cd imake; $(MAKE) $(MFLAGS) -f Makefile.ini clean)
imakeclobber:
	@(cd imake; $(MAKE) $(MFLAGS) -f Makefile.ini clobber)

tar:
	sh ./maketar.sh

deb:
	sh ./makedeb.sh

sql:
	sh ./makesql.sh

doxygen: tools/doxyconfig
	doxygen tools/doxyconfig

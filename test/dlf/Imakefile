COMM       @(#)$RCSfile: Imakefile,v $ $Revision: 1.3 $ $Date: 2004/06/09 16:10:41 $ CERN IT-ADC Vitaly Motyakov
COMM
COMM  Copyright (C) 2003 by CERN/IT/ADC
COMM  All rights reserved
COMM

COMM		Make CASTOR tests for "dlf" directory

#include <Project.tmpl>

INCLUDES = FileName(FileName(..,..),h)
#if linux
LIBS = -L../../dlf -ldlf -L../../common -lcommon  $(ADNSLIB) -lnsl
#else
#if SOLARIS
LIBS = -L../../dlf -ldlf -L../../common -lcommon -lsocket -lnsl
#else
#if _WIN32
LIBS = ..\..\dlf\dlf.lib ..\..\common\common.lib wsock32.lib advapi32.lib
#else
LIBS = -L../../dlf -ldlf -L../../common -lcommon
#endif
#endif
#endif

PROGS = ProgramTargetName(dlftest)

CFLAGS         = -I$(INCLUDES)
LDFLAGS        = $(MTLDFLAGS)


DEPLIBS = DepLibraryTargetName(FileName(..,dlf),dlf) \
	  DepLibraryTargetName(FileName(..,common),common)

all: $(PROGS)

NormalProgramTarget(dlftest,dlftest.Osuf,$(DEPLIBS),$(DEPLIBS) $(LIBS) $(MTLDLIBS))

MakeDepLibrary(FileName(..,common),common)
MakeDepLibrary(FileName(..,dlf),dlf)

clean:
	-@RemoveFiles(FilesToClean)
 
clobber:        clean
	-@RemoveFiles($(PROGS))
 
#if _WIN32
depend:
	@echo Not supported on this platform
#else
depend:
	makedepend -Y$(INCLUDES) *.c 2> /dev/null
#endif

Makefiles:
 
FORCE:

COMM###################### DEPENDENCIES ##########################

COMM DO NOT DELETE THIS LINE -- make  depend  depends  on  it.

COMM -----------------------------------------------------------------------------------------------------#
COMM                                                                                                      #
COMM  Imakefile - Castor Distribution Logging Facility                                                    #
COMM  Copyright (C) 2005 CERN IT/FIO (castor-dev@cern.ch)                                                 #
COMM                                                                                                      #
COMM  This program is free software; you can redistribute it and/or modify it under the terms of the GNU  #
COMM  General Public License as published by the Free Software Foundation; either version 2 of the        #
COMM  License, or (at your option) any later version.                                                     #
COMM                                                                                                      #
COMM  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without   #
COMM  even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU      #
COMM  General Public License for more details.                                                            #
COMM                                                                                                      #
COMM  You should have received a copy of the GNU General Public License along with this program; if not,  #
COMM  write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307,   #
COMM  USA.                                                                                                #
COMM                                                                                                      #
COMM -----------------------------------------------------------------------------------------------------#

#include <Project.tmpl>

INCLUDES = FileName(FileName(..,..),h)
#if linux
LIBS = -L../../dlf -ldlf -L../../common -lcommon -lnsl
#else
#if SOLARIS
LIBS = -L../../dlf -ldlf -L../../common -lcommon -lsocket -lnsl
#else
LIBS = -L../../dlf -ldlf -L../../common -lcommon
#endif
#endif

CFLAGS  = -I$(INCLUDES) -I../../dlf/
LDFLAGS = $(MTLDFLAGS)
PROGS   = ProgramTargetName(dlftest)

DEPLIBS = DepLibraryTargetName(FileName(..,dlf),dlf) \
	  DepLibraryTargetName(FileName(..,common),common)

all: $(PROGS)

NormalProgramTarget(dlftest,dlftest.Osuf,$(DEPLIBS),$(LIBS) $(MTLDLIBS))

MakeDepLibrary(FileName(..,common),common)
MakeDepLibrary(FileName(..,dlf),dlf)

#if _WIN32
depend:
	@echo Not supported on this platform
#else
depend:
	makedepend -Y$(INCLUDES) *.c 2> /dev/null
#endif

Makefiles:

clean:
	-@RemoveFiles(FilesToClean $(PROGS))

clobber: clean
	-@RemoveFiles($(PROGS))

FORCE:


COMM -- End-of-File -------------------------------------------------------------------------------------#

COMM DO NOT DELETE THIS LINE -- make  depend  depends  on  it.
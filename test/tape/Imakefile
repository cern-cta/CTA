COMM       @(#)$RCSfile: Imakefile,v $ $Revision: 1.9 $ $Date: 2007/01/18 09:10:17 $ CERN IT-PDP/DM Jean-Philippe Baud
COMM
COMM  Copyright (C) 1999-2003 by CERN/IT/PDP/DM
COMM  All rights reserved
COMM

COMM		Make CASTOR tests for "tape" directory

#include <Project.tmpl>

INCLUDES = FileName(FileName(..,..),h)
#if linux
LIBS = -L../../lib -lshift $(ADNSLIB) -lnsl
#else
#if SOLARIS
LIBS = -L../../lib -lshift -lsocket -lnsl
#else
#if defined(_AIX) && defined(_IBMR2)
LIBS = -L../../lib -lshift -lodm
#else
#if defined(__alpha) && defined(__osf__)
LIBS = -no_so -L../lib -lshift -so_archive
#else
#if _WIN32
LIBS = ..\..\lib\shift.lib wsock32.lib advapi32.lib
#else
LIBS = -L../../lib -lshift
#endif
#endif
#endif
#endif
#endif

PROGS = ProgramTargetName(tplogger_test) ProgramTargetName(Ctape_test1)

CFLAGS = -I$(INCLUDES)
LDFLAGS = $(MTLDFLAGS)

GLOBLIB = DepLibraryTargetName(FileName(..,lib),shift)

all: $(PROGS)

NormalProgramTarget(tplogger_test,tplogger_test.Osuf,$(GLOBLIB),$(LIBS))
NormalProgramTarget(Ctape_test1,Ctape_test1.Osuf,$(GLOBLIB),$(LIBS))

MakeDepLibrary(FileName(..,lib),shift)

clean:
	-@RemoveFiles(FilesToClean)
 
clobber:        clean
	-@RemoveFiles($(PROGS))
 
#if _WIN32
depend:
	@echo Not supported on this platform
#else
depend:
	makedepend -Y$(INCLUDES) *.c 2> /dev/null
#endif

Makefiles:

FORCE:
 
COMM###################### DEPENDENCIES ##########################
 
COMM DO NOT DELETE THIS LINE -- make  depend  depends  on  it.

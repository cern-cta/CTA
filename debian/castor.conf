#
#                 ####################################
#                 # CASTOR SAMPLE CONFIGURATION FILE #
#                 ####################################
#
# $Id: castor.conf,v 1.7 2005/09/28 17:24:28 jdurand Exp $
#
## ==================
## HOST configuration
## ==================
#
#EXPERT	HOST	castorexpert			# Expert System
#MONITOR	HOST	castormonitor			# Monitoring system
#DLF	HOST	castordlf			# Distributed Logging Facility
#STAGER	HOST	castorrh			# Request Handler
#STAGER	NOTIFYHOST	castorstager		# Stager
#CPTAPE  HOST    stagepublic			# Any eventual copytape facility
						# will leave only behind a castor1 stager
MSG	HOST	coremsg                         # Messenging system
#CNS	HOST	castorns			# Name Server

#
## =========================
## Per service configuration
## =========================
#
migrator	CHECKFILE	NO		# Only useful if the catalog contains
						# references to disk files
						# that have been physically deleted, which
						# should normally never be the case
recaller	CHECKFILE	YES             # Not needed unless one suspects a problem
						# with the recall of multi-segment files

# ************************************************************************************************
RFIO	USE_CASTOR_V2	YES			# <<<<<<<<<< USE CASTOR2 with castor2 client or NOT
# ************************************************************************************************

RFIO	CONNTIMEOUT	10			# Timeout on the connect() system call
RFIO	CONRETRY	10			# Number of connection retry
RFIO	CONRETRYINT	1			# Number of second between every retry
RFIO	DAEMONV3_RDSIZE	2097152			# Daemon buffer size for read
RFIO	DAEMONV3_WRSIZE	2097152			# Daemon buffer sise for write
RFIO	NFS_ROOT	/shift			# Default <root> for the hack /<root>/machinename/path
RFIO	CONNECT_TCP_NODELAY	YES		# Use TCP_NODELAY on the client side
RFIOD	KEEPALIVE	YES			# Use KEEPALIVE socket option
# Only in case of MAUI used for scheduling, please put real hostname, not the alias
#RFIOD	WTRUST	realcastorrmmaster realcastorrmmaster.cern.ch
#RFIOD	RTRUST	realcastorrmmaster realcastorrmmaster.cern.ch
#RFIOD	XTRUST	realcastorrmmaster realcastorrmmaster.cern.ch
#RFIOD	FTRUST	realcastorrmmaster realcastorrmmaster.cern.ch
RFIOD	WTRUST	castoradm1 castoradm1.cern.ch castoradm2 castoradm2.cern.ch castoradm3 castoradm3.cern.ch
RFIOD	RTRUST	castoradm1 castoradm1.cern.ch castoradm2 castoradm2.cern.ch castoradm3 castoradm3.cern.ch
RFIOD	XTRUST	castoradm1 castoradm1.cern.ch castoradm2 castoradm2.cern.ch castoradm3 castoradm3.cern.ch
RFIOD	FTRUST	castoradm1 castoradm1.cern.ch castoradm2 castoradm2.cern.ch castoradm3 castoradm3.cern.ch

ACCT	RTCOPY	YES				# Rtcopy accounting
ACCT	TAPE	YES				# Tape accounting

RTCOPY	RETRY	12                              # Number of TMS retries (obsolete)
RTCOPY	SLEEP	300				# Sleep between every TMS retry (obsolete)
#RTCOPYD	NB_BUFS	300                             # Number of rtcopy buffers for a 2G machine (1G machine? put 160)
#RTCOPYD	BUFSZ	4194304				# Size of a buffer (4M is the default)

#
## =================
## DLF configuration
## =================
# Default: everything is logged to DLF and a local log-file, except USAGE and DEBUG (off)
# Usage of DLF levels:

# EMERGENCY : Not used
# ALERT     : Very important error (e.g. service cant start)
# ERROR     : All errors during normal operation
# WARNING   : Self-monitoring warning
# AUTH      : Authorization error (e.g. Cupv failed)
# SECURITY  : Csec error
# USAGE     : Trace of routine calls
# SYSTEM    : Normal service messages (cf. old LOG_INFO)
# IMPORTANT : Not used
# DEBUG     : Debug level

# Request Handler
# ---------------
RHLog	LOGEMERGENCY	file:///var/spool/rh/log x-dlf://castordlf.cern.ch/
RHLog	LOGALERT	file:///var/spool/rh/log x-dlf://castordlf.cern.ch/
RHLog	LOGERROR	file:///var/spool/rh/log x-dlf://castordlf.cern.ch/
RHLog	LOGWARNING	file:///var/spool/rh/log x-dlf://castordlf.cern.ch/
RHLog	LOGAUTH		file:///var/spool/rh/log x-dlf://castordlf.cern.ch/
RHLog	LOGSECURITY	file:///var/spool/rh/log x-dlf://castordlf.cern.ch/
RHLog	LOGUSAGE	file:///var/spool/rh/log
RHLog	LOGSYSTEM	file:///var/spool/rh/log x-dlf://castordlf.cern.ch/
RHLog	LOGIMPORTANT	file:///var/spool/rh/log x-dlf://castordlf.cern.ch/
#RHLog	LOGDEBUG	file:///var/spool/rh/log x-dlf://castordlf.cern.ch/

# Rfio
# ----
rfio	LOGEMERGENCY	file:///var/spool/rfio/log x-dlf://castordlf.cern.ch/
rfio	LOGALERT	file:///var/spool/rfio/log x-dlf://castordlf.cern.ch/
rfio	LOGERROR	file:///var/spool/rfio/log x-dlf://castordlf.cern.ch/
rfio	LOGWARNING	file:///var/spool/rfio/log x-dlf://castordlf.cern.ch/
rfio	LOGAUTH		file:///var/spool/rfio/log x-dlf://castordlf.cern.ch/
rfio	LOGSECURITY	file:///var/spool/rfio/log x-dlf://castordlf.cern.ch/
rfio	LOGUSAGE	file:///var/spool/rfio/log
rfio	LOGSYSTEM	file:///var/spool/rfio/log x-dlf://castordlf.cern.ch/
rfio	LOGIMPORTANT	file:///var/spool/rfio/log x-dlf://castordlf.cern.ch/
#rfio	LOGDEBUG	file:///var/spool/rfio/log x-dlf://castordlf.cern.ch/

# Job
# ---
job	LOGEMERGENCY	file:///var/spool/job/log x-dlf://castordlf.cern.ch/
job	LOGALERT	file:///var/spool/job/log x-dlf://castordlf.cern.ch/
job	LOGERROR	file:///var/spool/job/log x-dlf://castordlf.cern.ch/
job	LOGWARNING	file:///var/spool/job/log x-dlf://castordlf.cern.ch/
job	LOGAUTH		file:///var/spool/job/log x-dlf://castordlf.cern.ch/
job	LOGSECURITY	file:///var/spool/job/log x-dlf://castordlf.cern.ch/
job	LOGUSAGE	file:///var/spool/job/log
job	LOGSYSTEM	file:///var/spool/job/log x-dlf://castordlf.cern.ch/
job	LOGIMPORTANT	file:///var/spool/job/log x-dlf://castordlf.cern.ch/
#job	LOGDEBUG	file:///var/spool/job/log x-dlf://castordlf.cern.ch/

# Resource Monitoring
# -------------------
rmmaster	LOGEMERGENCY	file:///var/spool/rmmaster/log x-dlf://castordlf.cern.ch/
rmmaster	LOGALERT	file:///var/spool/rmmaster/log x-dlf://castordlf.cern.ch/
rmmaster	LOGERROR	file:///var/spool/rmmaster/log x-dlf://castordlf.cern.ch/
rmmaster	LOGWARNING	file:///var/spool/rmmaster/log x-dlf://castordlf.cern.ch/
rmmaster	LOGAUTH		file:///var/spool/rmmaster/log x-dlf://castordlf.cern.ch/
rmmaster	LOGSECURITY	file:///var/spool/rmmaster/log x-dlf://castordlf.cern.ch/
rmmaster	LOGUSAGE	file:///var/spool/rmmaster/log
rmmaster	LOGSYSTEM	file:///var/spool/rmmaster/log x-dlf://castordlf.cern.ch/
rmmaster	LOGIMPORTANT	file:///var/spool/rmmaster/log x-dlf://castordlf.cern.ch/
#rmmaster	LOGDEBUG	file:///var/spool/rmmaster/log x-dlf://castordlf.cern.ch/

# Rtcopy Client Server : main daemon + recaller + migrator + TapeErrorHandler
# ---------------------------------------------------------------------------
rtcpcld	LOGEMERGENCY	file:///var/spool/rtcpclientd/rtcpcld x-dlf://castordlf.cern.ch/
rtcpcld	LOGALERT	file:///var/spool/rtcpclientd/rtcpcld x-dlf://castordlf.cern.ch/
rtcpcld	LOGERROR	file:///var/spool/rtcpclientd/rtcpcld x-dlf://castordlf.cern.ch/
rtcpcld	LOGWARNING	file:///var/spool/rtcpclientd/rtcpcld x-dlf://castordlf.cern.ch/
rtcpcld	LOGAUTH		file:///var/spool/rtcpclientd/rtcpcld x-dlf://castordlf.cern.ch/
rtcpcld	LOGSECURITY	file:///var/spool/rtcpclientd/rtcpcld x-dlf://castordlf.cern.ch/
rtcpcld	LOGUSAGE	file:///var/spool/rtcpclientd/rtcpcld
rtcpcld	LOGSYSTEM	file:///var/spool/rtcpclientd/rtcpcld x-dlf://castordlf.cern.ch/
rtcpcld	LOGIMPORTANT	file:///var/spool/rtcpclientd/rtcpcld x-dlf://castordlf.cern.ch/
#rtcpcld	LOGDEBUG	file:///var/spool/rtcpclientd/rtcpcld x-dlf://castordlf.cern.ch/

recaller	LOGEMERGENCY	file:///var/spool/rtcpclientd/recaller x-dlf://castordlf.cern.ch/
recaller	LOGALERT	file:///var/spool/rtcpclientd/recaller x-dlf://castordlf.cern.ch/
recaller	LOGERROR	file:///var/spool/rtcpclientd/recaller x-dlf://castordlf.cern.ch/
recaller	LOGWARNING	file:///var/spool/rtcpclientd/recaller x-dlf://castordlf.cern.ch/
recaller	LOGAUTH		file:///var/spool/rtcpclientd/recaller x-dlf://castordlf.cern.ch/
recaller	LOGSECURITY	file:///var/spool/rtcpclientd/recaller x-dlf://castordlf.cern.ch/
recaller	LOGUSAGE	file:///var/spool/rtcpclientd/recaller
recaller	LOGSYSTEM	file:///var/spool/rtcpclientd/recaller x-dlf://castordlf.cern.ch/
recaller	LOGIMPORTANT	file:///var/spool/rtcpclientd/recaller x-dlf://castordlf.cern.ch/
#recaller	LOGDEBUG	file:///var/spool/rtcpclientd/recaller x-dlf://castordlf.cern.ch/

migrator	LOGEMERGENCY	file:///var/spool/rtcpclientd/migrator x-dlf://castordlf.cern.ch/
migrator	LOGALERT	file:///var/spool/rtcpclientd/migrator x-dlf://castordlf.cern.ch/
migrator	LOGERROR	file:///var/spool/rtcpclientd/migrator x-dlf://castordlf.cern.ch/
migrator	LOGWARNING	file:///var/spool/rtcpclientd/migrator x-dlf://castordlf.cern.ch/
migrator	LOGAUTH		file:///var/spool/rtcpclientd/migrator x-dlf://castordlf.cern.ch/
migrator	LOGSECURITY	file:///var/spool/rtcpclientd/migrator x-dlf://castordlf.cern.ch/
migrator	LOGUSAGE	file:///var/spool/rtcpclientd/migrator
migrator	LOGSYSTEM	file:///var/spool/rtcpclientd/migrator x-dlf://castordlf.cern.ch/
migrator	LOGIMPORTANT	file:///var/spool/rtcpclientd/migrator x-dlf://castordlf.cern.ch/
#migrator	LOGDEBUG	file:///var/spool/rtcpclientd/migrator x-dlf://castordlf.cern.ch/

TapeErrorHandler	LOGEMERGENCY	file:///var/spool/rtcpclientd/TapeErrorHandler x-dlf://castordlf.cern.ch/
TapeErrorHandler	LOGALERT	file:///var/spool/rtcpclientd/TapeErrorHandler x-dlf://castordlf.cern.ch/
TapeErrorHandler	LOGERROR	file:///var/spool/rtcpclientd/TapeErrorHandler x-dlf://castordlf.cern.ch/
TapeErrorHandler	LOGWARNING	file:///var/spool/rtcpclientd/TapeErrorHandler x-dlf://castordlf.cern.ch/
TapeErrorHandler	LOGAUTH		file:///var/spool/rtcpclientd/TapeErrorHandler x-dlf://castordlf.cern.ch/
TapeErrorHandler	LOGSECURITY	file:///var/spool/rtcpclientd/TapeErrorHandler x-dlf://castordlf.cern.ch/
TapeErrorHandler	LOGUSAGE	file:///var/spool/rtcpclientd/TapeErrorHandler
TapeErrorHandler	LOGSYSTEM	file:///var/spool/rtcpclientd/TapeErrorHandler x-dlf://castordlf.cern.ch/
TapeErrorHandler	LOGIMPORTANT	file:///var/spool/rtcpclientd/TapeErrorHandler x-dlf://castordlf.cern.ch/
#TapeErrorHandler	LOGDEBUG	file:///var/spool/rtcpclientd/TapeErrorHandler x-dlf://castordlf.cern.ch/

# Migration Hunter
# ----------------
MigHunter	LOGEMERGENCY	file:///var/spool/rtcpclientd/MigHunter x-dlf://castordlf.cern.ch/
MigHunter	LOGALERT	file:///var/spool/rtcpclientd/MigHunter x-dlf://castordlf.cern.ch/
MigHunter	LOGERROR	file:///var/spool/rtcpclientd/MigHunter x-dlf://castordlf.cern.ch/
MigHunter	LOGWARNING	file:///var/spool/rtcpclientd/MigHunter x-dlf://castordlf.cern.ch/
MigHunter	LOGAUTH		file:///var/spool/rtcpclientd/MigHunter x-dlf://castordlf.cern.ch/
MigHunter	LOGSECURITY	file:///var/spool/rtcpclientd/MigHunter x-dlf://castordlf.cern.ch/
MigHunter	LOGUSAGE	file:///var/spool/rtcpclientd/MigHunter
MigHunter	LOGSYSTEM	file:///var/spool/rtcpclientd/MigHunter x-dlf://castordlf.cern.ch/
MigHunter	LOGIMPORTANT	file:///var/spool/rtcpclientd/MigHunter x-dlf://castordlf.cern.ch/
#MigHunter	LOGDEBUG	file:///var/spool/rtcpclientd/MigHunter x-dlf://castordlf.cern.ch/

# Stager
# ------
stager	LOGEMERGENCY	file:///var/spool/stager/log x-dlf://castordlf.cern.ch/
stager	LOGALERT	file:///var/spool/stager/log x-dlf://castordlf.cern.ch/
stager	LOGERROR	file:///var/spool/stager/log x-dlf://castordlf.cern.ch/
stager	LOGWARNING	file:///var/spool/stager/log x-dlf://castordlf.cern.ch/
stager	LOGAUTH		file:///var/spool/stager/log x-dlf://castordlf.cern.ch/
stager	LOGSECURITY	file:///var/spool/stager/log x-dlf://castordlf.cern.ch/
stager	LOGUSAGE	file:///var/spool/stager/log
stager	LOGSYSTEM	file:///var/spool/stager/log x-dlf://castordlf.cern.ch/
stager	LOGIMPORTANT	file:///var/spool/stager/log x-dlf://castordlf.cern.ch/
#stager	LOGDEBUG	file:///var/spool/stager/log x-dlf://castordlf.cern.ch/

# Garbage Collector
# -----------------
GC	LOGEMERGENCY	file:///var/spool/gc/log x-dlf://castordlf.cern.ch/
GC	LOGALERT	file:///var/spool/gc/log x-dlf://castordlf.cern.ch/
GC	LOGERROR	file:///var/spool/gc/log x-dlf://castordlf.cern.ch/
GC	LOGWARNING	file:///var/spool/gc/log x-dlf://castordlf.cern.ch/
GC	LOGAUTH		file:///var/spool/gc/log x-dlf://castordlf.cern.ch/
GC	LOGSECURITY	file:///var/spool/gc/log x-dlf://castordlf.cern.ch/
GC	LOGUSAGE	file:///var/spool/gc/log
GC	LOGSYSTEM	file:///var/spool/gc/log x-dlf://castordlf.cern.ch/
GC	LOGIMPORTANT	file:///var/spool/gc/log x-dlf://castordlf.cern.ch/
#GC	LOGDEBUG	file:///var/spool/gc/log x-dlf://castordlf.cern.ch/

# Scheduler
# ---------
scheduler	LOGEMERGENCY	file:///var/spool/scheduler/log x-dlf://castordlf.cern.ch/
scheduler	LOGALERT	file:///var/spool/scheduler/log x-dlf://castordlf.cern.ch/
scheduler	LOGERROR	file:///var/spool/scheduler/log x-dlf://castordlf.cern.ch/
scheduler	LOGWARNING	file:///var/spool/scheduler/log x-dlf://castordlf.cern.ch/
scheduler	LOGAUTH		file:///var/spool/scheduler/log x-dlf://castordlf.cern.ch/
scheduler	LOGSECURITY	file:///var/spool/scheduler/log x-dlf://castordlf.cern.ch/
scheduler	LOGUSAGE	file:///var/spool/scheduler/log
scheduler	LOGSYSTEM	file:///var/spool/scheduler/log x-dlf://castordlf.cern.ch/
scheduler	LOGIMPORTANT	file:///var/spool/scheduler/log x-dlf://castordlf.cern.ch/
#scheduler	LOGDEBUG	file:///var/spool/scheduler/log x-dlf://castordlf.cern.ch/

# VDQM2
# -----
Vdqm	LOGEMERGENCY	file:///var/spool/vdqm/log x-dlf://castordlf.cern.ch/
Vdqm	LOGALERT	file:///var/spool/vdqm/log x-dlf://castordlf.cern.ch/
Vdqm	LOGERROR	file:///var/spool/vdqm/log x-dlf://castordlf.cern.ch/
Vdqm	LOGWARNING	file:///var/spool/vdqm/log x-dlf://castordlf.cern.ch/
Vdqm	LOGAUTH		file:///var/spool/vdqm/log x-dlf://castordlf.cern.ch/
Vdqm	LOGSECURITY	file:///var/spool/vdqm/log x-dlf://castordlf.cern.ch/
Vdqm	LOGUSAGE	file:///var/spool/vdqm/log
Vdqm	LOGSYSTEM	file:///var/spool/vdqm/log x-dlf://castordlf.cern.ch/
Vdqm	LOGIMPORTANT	file:///var/spool/vdqm/log x-dlf://castordlf.cern.ch/
#Vdqm	LOGDEBUG	file:///var/spool/vdqm/log x-dlf://castordlf.cern.ch/

#
## =====================================================================
## Service mapping : which type of DB should be used for a given service
## =====================================================================
#
SvcMapping             DBCNV           16 #SVC_ORACNV
#SvcMapping            DBCNV           25 #SVC_MYCNV

SvcMapping             DBSTAGERSVC     18 #SVC_ORASTAGERSVC
#SvcMapping            DBSTAGERSVC     27 #SVC_MYSTAGERSVC

SvcMapping             DBTAPESVC       19 #SVC_ORATAPESVC
#SvcMapping            DBTAPESVC       28 #SVC_MYTAPESVC

SvcMapping             DBFSSVC         20 #SVC_ORAFSSVC
#SvcMapping            DBFSSVC         29 #SVC_MYFSSVC

SvcMapping             DBJOBSVC        21 #SVC_ORAJOBSVC
#SvcMapping            DBJOBSVC        30 #SVC_MYJOBSVC

SvcMapping             DBGCSVC         22 #SVC_ORAGCSVC
#SvcMapping            DBGCSVC         31 #SVC_MYGCSVC

SvcMapping             DBQUERYSVC      23 #SVC_ORAQUERYSVC
#SvcMapping            DBQUERYSVC      32 #SVC_MYQUERYSVC

SvcMapping             DBVDQMSVC       24 #SVC_ORAVDQMSVC
#SvcMapping            DBVDQMSVC       33 #SVC_MYVDQMSVC

#
## ==============================================================
## Library definition (dlopen) : Which library hold which service
## ==============================================================
#
DynamicLib             ORACNV        libcastorCommonOra.so.2.0
DynamicLib             ORASTAGERSVC  libcastorCommonOra.so.2.0
DynamicLib             ORATAPESVC    libcastorCommonOra.so.2.0
DynamicLib             ORAFSSVC      libcastorCommonOra.so.2.0
DynamicLib             ORAJOBSVC     libcastorCommonOra.so.2.0
DynamicLib             ORAGCSVC      libcastorCommonOra.so.2.0
DynamicLib             ORAQUERYSVC   libcastorCommonOra.so.2.0
DynamicLib             ORAVDQMSVC    libcastorCommonOra.so.2.0

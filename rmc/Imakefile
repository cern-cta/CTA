COMM
COMM  Copyright (C) 2001-2002 by CERN/IT/PDP/DM
COMM  All rights reserved
COMM
COMM       @(#)$RCSfile: Imakefile,v $ $Revision: 1.8 $ $Date: 2009/08/18 09:43:01 $ CERN IT-PDP/DM Jean-Philippe Baud

COMM 	Make SCSI media changer server programs.

LOGDIR = /var/log/castor
CFLAGS = -I../h $(MTCCFLAGS) -DBIN=\"$(BIN)\" -DLOGFILE=\"$(LOGDIR)/rmcd_legacy.log\"

DependsOnLibrary(common,castorcommon)
DependsOnLibrary(upv,castorupv)
DependsOnLibrary(dlf,castordlf)
DependsOnLibrary(tape,castortape)

RMCD_OBJS = rmc_serv.Osuf rmc_procreq.Osuf rmclogit.Osuf sendrep.Osuf usrmsg.Osuf
OPSGRP = OperatorGid
TapeProgramTarget(rmcd,$(RMCD_OBJS),$(DEPLIB),$(LIBS),750)
ADMMANPAGE(rmcd)
TapeMakeDir($(LOGDIR),0755)
LOGROTATE(castor-rmc-server,..,installtape)
SYSCONFIG(rmcd,installtape)
INITSCRIPT(rmcd,installtape)

LIBMANPAGE(rmc_dismount)
LIBMANPAGE(rmc_export)
LIBMANPAGE(rmc_find_cartridge)
LIBMANPAGE(rmc_get_geometry)
LIBMANPAGE(rmc_import)
LIBMANPAGE(rmc_mount)
LIBMANPAGE(rmc_read_elem_status)
LIBMANPAGE(rmc_seterrbuf)

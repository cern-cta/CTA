COMM
COMM  Copyright (C) 2001-2002 by CERN/IT/PDP/DM
COMM  All rights reserved
COMM
COMM       @(#)$RCSfile: Imakefile,v $ $Revision: 1.8 $ $Date: 2009/08/18 09:43:01 $ CERN IT-PDP/DM Jean-Philippe Baud

COMM 	Make SCSI media changer server programs.

CPPFLAGS += -DRMCLOGFILE=RmcLogFile

TapeDependsOnLibrary(common,castorcommon)
TapeDependsOnLibrary(upv,castorupv)
TapeDependsOnLibrary(dlf,castordlf)
TapeDependsOnLibrary(tape,castortape)

RMCD_OBJS = rmc_serv.o rmc_procreq.o rmclogit.o sendrep.o usrmsg.o
OPSGRP = OperatorGid
TapeProgramTarget(rmcd,$(RMCD_OBJS),,,750)
ADMMANPAGE(rmcd)
TapeMakeDir(LogPath,0755)
LOGROTATE(castor-rmc-server,installtape)
SYSCONFIG(rmcd,installtape)
INITSCRIPT(rmcd,installtape)

CLIENTLIBMANPAGE(rmc_dismount)
CLIENTLIBMANPAGE(rmc_export)
CLIENTLIBMANPAGE(rmc_find_cartridge)
CLIENTLIBMANPAGE(rmc_get_geometry)
CLIENTLIBMANPAGE(rmc_import)
CLIENTLIBMANPAGE(rmc_mount)
CLIENTLIBMANPAGE(rmc_read_elem_status)
CLIENTLIBMANPAGE(rmc_seterrbuf)

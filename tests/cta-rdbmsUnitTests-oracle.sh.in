#!/bin/bash

# SPDX-FileCopyrightText: 2015 CERN
# SPDX-License-Identifier: GPL-3.0-or-later

set -e

if test $# -ne 1; then
  echo "Wrong number of command-line arguments: expected=1 actual=$#"
  echo "Usage: cta-rdbmsUnitTests-oracle.sh databaseConnectionFile"
  exit 1
fi

DB_CONN_FILE=$1

valgrind --gen-suppressions=all --suppressions=/usr/share/cta-@CTA_VERSION@/unittest/cta-rdbmsUnitTests-oracle.suppr /usr/bin/cta-rdbmsUnitTests ${DB_CONN_FILE}

COMM
COMM  Copyright (C) 2000-2003 by CERN/IT/PDP/DM
COMM  All rights reserved
COMM
COMM       @(#)Imakefile,v 1.24 2005/12/06 10:52:56 CERN IT-PDP/DM Jean-Philippe Baud

COMM    Make HSM admin tools.

DependsOnLibrary(common,castorcommon)
DependsOnLibrary(ns,castorns)
DependsOnLibrary(castor,castorclient)
DependsOnLibrary(rfio,castorrfio)
DependsOnLibrary(vmgr,castorvmgr)

NormalProgramTarget(reclaim,reclaim.o,,,755)
InstallTarget(repack,755)

NormalProgramTarget(adler32,adler32.o,,-lz,755)
NormalProgramTarget(c2probe,c2probe.o,,,755)
LOCAL_PATH/rfcpupd.c: $(CASTOR_ROOT)/rfio/rfcp.c
	sed 's/| *O_TRUNC//' $< | sed 's/O_WRONLY/O_RDWR|O_APPEND/' > $@
PREFIX(FilesToClean) += LOCAL_PATH/rfcpupd.c
COMPILEC(rfcpupd.c,-DSACCT)
NormalProgramTarget(rfcpupd,rfcpupd.o,,,755)
NormalProgramTarget(stager_actualget,stager_actualget.o,,,755)
NormalProgramTarget(stager_actualput,stager_actualput.o,,,755)

InstallTarget(enterfileclass,755)
InstallTarget(deletefileclass,755)
InstallTarget(printfileclass,755)

InstallTarget(entersvcclass,755)
InstallTarget(modifysvcclass,755)
InstallTarget(deletesvcclass,755)
InstallTarget(printsvcclass,755)

InstallTarget(enterdiskpool,755)
InstallTarget(deletediskpool,755)
InstallTarget(printdiskpool,755)

InstallTarget(enterrecallgroup,755)
InstallTarget(modifyrecallgroup,755)
InstallTarget(deleterecallgroup,755)
InstallTarget(printrecallgroup,755)

InstallTarget(enterrecalluser,755)
InstallTarget(modifyrecalluser,755)
InstallTarget(deleterecalluser,755)
InstallTarget(printrecalluser,755)

InstallTarget(entertapepool,755)
InstallTarget(modifytapepool,755)
InstallTarget(deletetapepool,755)
InstallTarget(printtapepool,755)

InstallTarget(entermigrationroute,755)
InstallTarget(modifymigrationroute,755)
InstallTarget(deletemigrationroute,755)
InstallTarget(printmigrationroute,755)

InstallTarget(modifydiskserver,755)
InstallTarget(deletediskserver,755)
InstallTarget(printdiskserver,755)

InstallTarget(modifydbconfig,755)
InstallTarget(printdbconfig,755)

InstallTarget(fixFileSize,755)
InstallTarget(deletediskcopy,755)
InstallTarget(diskserver_qry,755)
InstallTarget(draindiskserver,755)
InstallTarget(migratenewcopy,755)
InstallTarget(vdqmlistpriority,755)
InstallTarget(vdqmlistrequest,755)
InstallTarget(vdqmsetpriority,755)
InstallTarget(vdqmdeletepriority,755)
InstallTarget(nslistsegs,755)

InstallTarget(printmigrationstatus,755)
InstallTarget(printrecallstatus,755)
InstallTarget(printrecallfilestatus,755)
InstallTarget(printrecalltapequeue,755)
InstallTarget(printrecalluserqueue,755)

InstallNonExecFile(castor_tools.pm,$(PERL_LIBDIR),755)
InstallNonExecFile(castor_tools.py,$(PYTHON_LIBDIR),644)
InstallNonExecFile(dlf.py,$(PYTHON_LIBDIR),644)

EXEMANPAGE(repack)

EXEMANPAGE(enterfileclass)
EXEMANPAGE(deletefileclass)
EXEMANPAGE(printfileclass)

EXEMANPAGE(entersvcclass)
EXEMANPAGE(modifysvcclass)
EXEMANPAGE(deletesvcclass)
EXEMANPAGE(printsvcclass)

EXEMANPAGE(enterdiskpool)
EXEMANPAGE(deletediskpool)
EXEMANPAGE(printdiskpool)

EXEMANPAGE(enterrecallgroup)
EXEMANPAGE(modifyrecallgroup)
EXEMANPAGE(deleterecallgroup)
EXEMANPAGE(printrecallgroup)

EXEMANPAGE(enterrecalluser)
EXEMANPAGE(modifyrecalluser)
EXEMANPAGE(deleterecalluser)
EXEMANPAGE(printrecalluser)

EXEMANPAGE(entertapepool)
EXEMANPAGE(modifytapepool)
EXEMANPAGE(deletetapepool)
EXEMANPAGE(printtapepool)

EXEMANPAGE(entermigrationroute)
EXEMANPAGE(modifymigrationroute)
EXEMANPAGE(deletemigrationroute)
EXEMANPAGE(printmigrationroute)

EXEMANPAGE(modifydiskserver)
EXEMANPAGE(deletediskserver)
EXEMANPAGE(printdiskserver)

EXEMANPAGE(modifydbconfig)
EXEMANPAGE(printdbconfig)

EXEMANPAGE(reclaim)
EXEMANPAGE(deletediskcopy)
EXEMANPAGE(diskserver_qry)
EXEMANPAGE(c2probe)
EXEMANPAGE(adler32)
EXEMANPAGE(adminMultiInstance)
EXEMANPAGE(draindiskserver)
EXEMANPAGE(migratenewcopy)
EXEMANPAGE(nslistsegs)

EXEMANPAGE(vdqmsetpriority)
EXEMANPAGE(vdqmdeletepriority)
EXEMANPAGE(vdqmlistpriority)
EXEMANPAGE(vdqmlistrequest)

EXEMANPAGE(printmigrationstatus)
EXEMANPAGE(printrecallstatus)
EXEMANPAGE(printrecallfilestatus)
EXEMANPAGE(printrecalltapequeue)
EXEMANPAGE(printrecalluserqueue)

extraScrapeConfigs: |
  - job_name: "otel-collector"
    static_configs:
      - targets:
        - otel-opentelemetry-collector:8889

rbac:
  create: false

alertmanager:
  enabled: false

kube-state-metrics:
  enabled: false

# We want to get metrics on CPU/memory usage
prometheus-node-exporter:
  enabled: true

prometheus-pushgateway:
  enabled: false

server:
  global:
    # For CI, we scrape rather frequently to get some more interesting graphs
    scrape_interval: 10s
    scrape_timeout: 3s

  persistentVolume:
    enabled: false

  extraSecretMounts:
    - name: prometheus-remote-write-secret
      mountPath: /etc/prometheus/secrets/remote-write
      secretName: prometheus-remote-write-secret
      readOnly: true

  remoteWrite:
    - url: "http://monit-prom-lts.cern.ch/api/v1/push"
      basic_auth:
        username_file: /etc/prometheus/secrets/remote-write/username
        password_file: /etc/prometheus/secrets/remote-write/password



digraph mount_processes {
rankdir=LR;
node [shape = oval];
edge [weight = 1];
gateway   -> vmgr      [ label =  "1 get volume"                          ];
gateway   -> vdqm      [ label =  "2 get drive"                           ];
vdqm      -> vdqm      [ label =  "3 drive up -> starting\n\n\n "         ];
vdqm      -> bridge    [ label =  "4 client info"                         ];
vdqm      -> vdqm      [ label =  "5 drive starting -> submitted"         ];
bridge    -> rtcpd     [ label =  "6 modified client info"                ];
bridge    -> rtcpd     [ label =  "7 get drive info"                      ];
bridge    -> gateway   [ label =  "8 get volume"                          ];
bridge    -> gateway   [ label =  "9 get first file"                      ];
bridge    -> rtcpd     [ label = "10 volume"                              ];
bridge    -> rtcpd     [ label = "11 first file"                          ];
bridge    -> rtcpd     [ label = "12 there maybe more work"               ];
rtcpd     -> taped     [ label = "13 reserve drive"                       ];
rtcpd     -> taped     [ label = "14 mount"                               ];
taped     -> mounttape [ label = "15 fork and exec"                       ];
mounttape -> vdqm      [ label = "16 assign drive"                        ];
vdqm      -> vdqm      [ label = "17 drive submitted -> assigned"         ];
mounttape -> vmgr      [ label = "18 query tape"                          ];
mounttape -> cupv      [ label = "19 check TP_OPER if volume disabled"    ];
mounttape -> vmgr      [ label = "20 query pool if writing"               ];
mounttape -> cupv      [ label = "21 check ADMIN if writing and not owner"];
mounttape -> taped     [ label = "22 vid, vsn and tobemounted"            ];
mounttape -> mounttape [ label = "23 do the work"                         ];
mounttape -> vmgr      [ label = "24 volume mounted"                      ];
mounttape -> vdqm      [ label = "25 volume mounted"                      ];
vdqm      -> vdqm      [ label = "26 drive assigned -> mounted"           ];
}

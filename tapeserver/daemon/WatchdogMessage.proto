// SPDX-FileCopyrightText: 2015 CERN
// SPDX-License-Identifier: GPL-3.0-or-later
syntax = "proto2";
package cta.tape.daemon.serializers;

// The message sent from drive process to process handler in the main process.
// The messages are used in a one-way communication where the drive process reports
// its status, plus any log variables needed for end of session summaries.

message LogParam {
  required string name = 20001;
  required string value = 20002;
}

message WatchdogMessage {
  required bool reportingstate = 20010;
  optional uint32 sessionstate = 20011;
  optional uint32 sessiontype = 20012;
  optional string vid = 20013;
  required bool reportingbytes = 20014;
  optional uint64 totaldiskbytesmoved = 20015;
  optional uint64 totaltapebytesmoved = 20016;
  repeated LogParam addedlogparams = 20017;
  repeated string deletedlogparams = 20018;
  optional bool resetLogParams = 20019;
}

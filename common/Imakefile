COMM       @(#)Imakefile,v 1.52 2004/06/09 16:10:29 CERN IT-PDP/DM Jean-Philippe Baud
COMM
COMM  Copyright (C) 1990-2002 by CERN/IT/PDP/DM
COMM  All rights reserved
COMM

COMM		Make common routines library

CPPFLAGS += -DPATH_CONFIG=CastorConfigFile -DLOCALHOSTSFILE=LocalHostsList -DMAPPING_FILE=MappingFile -DRTHOSTSFILE=RemoteHostsList -DADMIN_HOSTS=AdminHosts
AddLdFlags(-l UUIDLIBNAME)

COMMONLIB_OBJS = $(SYSDEP_OBJS) \
		 compat.o getacct.o getacctent.o getconfent.o \
		 getifnam.o getuser.o log.o marshall.o \
		 readc.o remote.o \
		 serror.o setnetio.o socket.o solveln.o trace.o \
		 wsacct.o ypgetacct.o ypgetacctent.o \
		 Cdlopen.o Cthread.o Cglobals.o Cgrp.o Cmutex.o Cuuid.o \
		 Cdomainname.o Cnetdb.o Cpool.o Cpwd.o Cstrerror.o \
		 socket_timeout.o u64subr.o Cinitdaemon.o Cgetopt.o \
		 Cregexp.o Cexportconf.o Csnprintf.o util.o \
		 Csecloader.o castor1compat.o

ClientSharedLibraryTarget(castorcommon,$(COMMONLIB_OBJS),,-ldl)

CLIENTLIBMANPAGE(getacct)
CLIENTLIBMANPAGE(getacctent)
CLIENTLIBMANPAGE(getconfent)
CLIENTLIBMANPAGE(log)
CLIENTLIBMANPAGE(netclose)
CLIENTLIBMANPAGE(netread)
CLIENTLIBMANPAGE(netwrite)
CLIENTLIBMANPAGE(Cgetopt)
CLIENTLIBMANPAGE(Cglobals)
CLIENTLIBMANPAGE(Cgrp)
CLIENTLIBMANPAGE(Cuuid)
CLIENTLIBMANPAGE(Cmutex)
CLIENTLIBMANPAGE(Cpool)
CLIENTLIBMANPAGE(Cpwd)
CLIENTLIBMANPAGE(Cthread)

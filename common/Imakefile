COMM       @(#)Imakefile,v 1.52 2004/06/09 16:10:29 CERN IT-PDP/DM Jean-Philippe Baud
COMM
COMM  Copyright (C) 1990-2002 by CERN/IT/PDP/DM
COMM  All rights reserved
COMM

COMM		Make common routines library

AddLdFlags(-l UUIDLIBNAME -lstdc++)

COMMONLIB_OBJS = $(SYSDEP_OBJS) \
		 compat.o getacct.o getacctent.o getconfent.o \
		 getifnam.o getuser.o log.o marshall.o \
		 readc.o remote.o \
		 serror.o socket.o solveln.o trace.o \
		 wsacct.o ypgetacct.o ypgetacctent.o \
		 Cthread.o Cglobals.o Cgrp.o Cmutex.o Cuuid.o \
		 Cdomainname.o Cnetdb.o Cpool.o Cpwd.o Cstrerror.o \
		 socket_timeout.o u64subr.o Cinitdaemon.o Cgetopt.o \
		 Cregexp.o Cexportconf.o Csnprintf.o util.o \
		 Csecloader.o castor1compat.o \
                 ../castor/exception/BadVersion.o \
                 ../castor/exception/Busy.o \
                 ../castor/exception/DismountFailed.o \
                 ../castor/exception/Exception.o \
                 ../castor/exception/FailedToExecutePython.o \
                 ../castor/exception/InvalidArgument.o \
                 ../castor/exception/InvalidConfigEntry.o \
                 ../castor/exception/InvalidConfiguration.o \
                 ../castor/exception/Internal.o \
                 ../castor/exception/NotSupported.o \
                 ../castor/exception/OutOfMemory.o \
                 ../castor/exception/Communication.o \
                 ../castor/exception/MissingOperand.o \
                 ../castor/exception/MountFailed.o \
                 ../castor/exception/NoEntry.o \
                 ../castor/exception/NoPortInRange.o \
                 ../castor/exception/NoSegmentFound.o \
                 ../castor/exception/NoValue.o \
                 ../castor/exception/PermissionDenied.o \
                 ../castor/exception/RequestCanceled.o \
                 ../castor/exception/Security.o \
                 ../castor/exception/SQLError.o \
                 ../castor/exception/TapeNetAcceptInterrupted.o \
                 ../castor/exception/TimeOut.o \
                 ../castor/exception/TooBig.o \
                 ../castor/common/CastorConfiguration.o

ClientSharedLibraryTarget(castorcommon,$(COMMONLIB_OBJS),,-ldl)

CLIENTLIBMANPAGE(getacct)
CLIENTLIBMANPAGE(getacctent)
CLIENTLIBMANPAGE(getconfent)
CLIENTLIBMANPAGE(log)
CLIENTLIBMANPAGE(netread)
CLIENTLIBMANPAGE(netwrite)
CLIENTLIBMANPAGE(Cgetopt)
CLIENTLIBMANPAGE(Cglobals)
CLIENTLIBMANPAGE(Cgrp)
CLIENTLIBMANPAGE(Cuuid)
CLIENTLIBMANPAGE(Cmutex)
CLIENTLIBMANPAGE(Cpool)
CLIENTLIBMANPAGE(Cpwd)
CLIENTLIBMANPAGE(Cthread)

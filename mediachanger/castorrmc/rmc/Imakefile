COMM
COMM  Copyright (C) 2001-2002 by CERN/IT/PDP/DM
COMM  All rights reserved
COMM
COMM       @(#)$RCSfile: Imakefile,v $ $Revision: 1.6 $ $Date: 2009/02/27 13:02:11 $ CERN IT-PDP/DM Jean-Philippe Baud

COMM 	Make SCSI media changer server programs. 

SPOOL = /var/spool/rfio
CFLAGS = -I../h $(MTCCFLAGS) -DBIN=\"$(BIN)\" -DLOGFILE=\"$(SPOOL)/log\"

DependsOnLibrary(common,castorcommon)
DependsOnLibrary(upv,castorupv)
DependsOnLibrary(dlf,castordlf)
DependsOnLibrary(tape,castortape)

RMCDAEMON_OBJS = rmc_serv.Osuf rmc_procreq.Osuf rmclogit.Osuf sendrep.Osuf usrmsg.Osuf
OPSGRP = OperatorGid
TapeProgramTarget(rmcdaemon,$(RMCDAEMON_OBJS),$(DEPLIB),$(LIBS),750)
MakeDir($(SPOOL),0755)
ADMMANPAGE(rmcdaemon)
MakeDir(/var/spool/rmc,0755)
LOGROTATE(castor-rmc-server,..,installtape)
SYSCONFIG(rmcdaemon,installtape)
INITSCRIPT(rmcdaemon,installtape)

LIBMANPAGE(rmc_dismount)
LIBMANPAGE(rmc_export)
LIBMANPAGE(rmc_find_cartridge)
LIBMANPAGE(rmc_get_geometry)
LIBMANPAGE(rmc_import)
LIBMANPAGE(rmc_mount)
LIBMANPAGE(rmc_read_elem_status)
LIBMANPAGE(rmc_seterrbuf)

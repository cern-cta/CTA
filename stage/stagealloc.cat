


STAGEALLOC(l)     Misc. Reference Manual Pages      STAGEALLOC(l)



NNNNAAAAMMMMEEEE
     stagealloc - allocate space in a disk pool

SSSSYYYYNNNNOOOOPPPPSSSSIIIISSSS
     ssssttttaaaaggggeeeeaaaalllllllloooocccc [ ----GGGG ] [ ----hhhh _h_o_s_t ] [ ----PPPP ] [ ----pppp _p_o_o_l ] [ ----ssss _s_i_z_e ]
     [ ----UUUU _f_u_n ] [ ----uuuu _u_s_e_r ] _f_i_l_e

DDDDEEEESSSSCCCCRRRRIIIIPPPPTTTTIIIIOOOONNNN
     This command sends a request to a stager daemon which  allo-
     cates   space,  creates  an  empty  file  with  the  correct
     privileges, establishes a  symbolic  link  _f_i_l_e  to  it  and
     updates its catalog.

     Then the internal path name or the link can be used  by  the
     application program to write the data to disk. When the file
     is complete, ssssttttaaaaggggeeeeuuuuppppddddcccc should be called to update the actual
     file size in the stager catalog. See the example below.

     _f_i_l_e may be a local path, the  combination  _m_a_c_h_i_n_e:_f_u_l_l_p_a_t_h
     (NFS  syntax),  a full path starting with the NFS_ROOT, i.e.
     /shift, or absent if a Fortran unit number is specified.

OOOOPPPPTTTTIIIIOOOONNNNSSSS
     ----GGGG    Specifies that the  disk  file  allocation  should  be
          issued  by  the  'group  user'.  A  'group user' may be
          defined for each group in ////eeeettttcccc////sssshhhhiiiifffftttt....ccccoooonnnnffff....
          For example:
               GRPUSER ws     opalprod

     ----hhhh _h_o_s_t
          Sends the request to the stager on _h_o_s_t.  This may also
          be specified thru the environment variable STAGE_HOST.

     ----PPPP    prints on stdout the internal path name.

     ----pppp _p_o_o_l_n_a_m_e
          Allocates the file in the pool _p_o_o_l_n_a_m_e.  This may also
          be specified thru the environment variable STAGE_POOL.

     ----ssss _s_i_z_e
          If specified, only _s_i_z_e Mbytes will be allocated.   The
          value must be smaller than 2048 (2 Gbytes).

     ----UUUU _f_u_n
          Fortran unit number.  This is internally converted to a
          local path ffffoooorrrrtttt....ffffuuuunnnn.  The ----UUUU option and the _f_i_l_e param-
          eter may be both specified but at  least  one  of  them
          must be present.

     ----uuuu _u_s_e_r
          A file allocated in a pool will be  stored  in  a  sub-
          directory  _u_s_e_r.   This  may also be specified thru the



SunOS 5.5.1           Last change: 11/21/96                     1






STAGEALLOC(l)     Misc. Reference Manual Pages      STAGEALLOC(l)



          environment variable STAGE_USER.  The default subdirec-
          tory name is ssssttttaaaaggggeeee.  _u_s_e_r must be a valid user name and
          belong to the same group as the requestor.

EEEEXXXXAAAAMMMMPPPPLLLLEEEESSSS
     To allocate space for a  10  Mbytes  file,  write  data  and
     update  the  stager  catalog,  the following set of commands
     could be used:
          stagealloc -s 10 out
          a.out out
          stageupdc out

RRRREEEETTTTUUUURRRRNNNN CCCCOOOODDDDEEEESSSS
     0    Ok.
     1    Bad parameter.
     2    System error.
     4    Configuration error.
     28   ENOSPC: unable to find enough disk space.
     192  Request cancelled by stageclr.




































SunOS 5.5.1           Last change: 11/21/96                     2




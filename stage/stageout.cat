


STAGEOUT(l)       Misc. Reference Manual Pages        STAGEOUT(l)



NNNNAAAAMMMMEEEE
     stageout - allocate space and store the option values in the
     stgdaemon catalog for use by stageput later.

SSSSYYYYNNNNOOOOPPPPSSSSIIIISSSS
     ssssttttaaaaggggeeeeoooouuuutttt [ ----bbbb _m_a_x__b_l_o_c_k__s_i_z_e ] [ ----CCCC _c_h_a_r_c_o_n_v ] [ ----dddd  _d_e_n_s_i_t_y
     ]  [  ----FFFF  _r_e_c_o_r_d__f_o_r_m_a_t  ]  [  ----ffff  _f_i_l_e__i_d  ]  [  ----GGGG  ] [ ----gggg
     _d_e_v_i_c_e__g_r_o_u_p__n_a_m_e ] [ ----hhhh _h_o_s_t ] [ ----IIII _e_x_t_e_r_n_a_l__f_i_l_e_n_a_m_e  ]  [
     ----KKKK ] [ ----LLLL _r_e_c_o_r_d__l_e_n_g_t_h ] [ ----llll _l_a_b_e_l__t_y_p_e ] [ ----MMMM _h_s_m_f_i_l_e ] [
     ----NNNN  _n_r_e_a_d  ]  [  ----nnnn  ]  [  ----oooo  ]  [   ----pppp   _p_o_o_l   ]   [   ----qqqq
     _f_i_l_e__s_e_q_u_e_n_c_e__n_u_m_b_e_r  ]  [ ----SSSS _t_a_p_e__s_e_r_v_e_r ] [ ----ssss _s_i_z_e ] [ ----tttt
     _r_e_t_e_n_t_i_o_n__p_e_r_i_o_d__i_n__d_a_y_s ] [ ----UUUU _f_u_n ]  [  ----uuuu  _u_s_e_r  ]  [  ----VVVV
     _v_i_s_u_a_l__i_d_e_n_t_i_f_i_e_r(_s)  ]  [ ----vvvv _v_o_l_u_m_e__s_e_r_i_a_l__n_u_m_b_e_r(_s) ] [ ----XXXX
     _x_p_a_r_m ] [ _f_i_l_e_s ]

DDDDEEEESSSSCCCCRRRRIIIIPPPPTTTTIIIIOOOONNNN
     This command sends a request to a stage daemon  which  allo-
     cates  space  in  a pool and stores the option values in its
     catalog.  Then the daemon creates an empty file and sets the
     ownership and permissions.  If the request gives tape param-
     eters and ----qqqq option is not ----qqqq nnnn ,,,, the internal file name  is
     in the form vvvviiiidddd....ffffsssseeeeqqqq....llllaaaabbbbeeeellll; if ----qqqq nnnn is specified, the inter-
     nal file name is in the form vvvviiiidddd....ffffsssseeeeqqqq....llllaaaabbbbeeeellll....rrrreeeeqqqqiiiidddd  while  if
     an  external file name is specified with the option -I (disk
     stageing),  the  internal  file  name   is   in   the   form
     xxxxffffiiiilllleeee____bbbbaaaasssseeeennnnaaaammmmeeee....rrrreeeeqqqqiiiidddd.  If _f_i_l_e is specified, a symbolic link
     pointing at the actual file is created with that name.

     _f_i_l_e may be a local path, the  combination  _m_a_c_h_i_n_e:_f_u_l_l_p_a_t_h
     (NFS  syntax),  a full path starting with the NFS_ROOT, i.e.
     /shift, or absent.

OOOOPPPPTTTTIIIIOOOONNNNSSSS
     ----bbbb _b_l_o_c_k_s_i_z_e
          Specifies the maximum block size.  If not given and the
          input  tape  is  labelled and -o is also specified, the
          block size is taken from  the  header  label  when  the
          field  is  not  zero;  otherwise:  for  all drive types
          except Redwoods the default is 32760 if  _l_r_e_c_l  is  not
          specified, _l_r_e_c_l otherwise. On Redwoods, the default is
          262144 if _l_r_e_c_l is not specified or the largest  multi-
          ple of _l_r_e_c_l below 262144.

     ----CCCC _c_h_a_r_c_o_n_v
          The data will be converted to this character  set  when
          ssssttttaaaaggggeeeeppppuuuutttt  is  executed.   _c_h_a_r_c_o_n_v  may  be  aaaasssscccciiiiiiii  (no
          conversion is done) or eeeebbbbccccddddiiiicccc.  The  option  value  may
          also  be  bbbblllloooocccckkkk.   In  this  case, the new line will be
          removed from each record and padding with  blanks  will
          be  done  if necessary.  Option values may be combined;
          they are separated by comma in this case.
          For example:



SunOS 5.5.1           Last change: 09/08/98                     1






STAGEOUT(l)       Misc. Reference Manual Pages        STAGEOUT(l)



               -C ebcdic,block

     ----dddd _d_e_n_s_i_t_y
          1111666600000000 or 6666222255550000 for round  (IBM  3420)  tapes,  33338888000000000000  for
          standard  IBM 3480 cartridges, 33338888KKKKCCCC for 3480 cartridges
          with compaction (IDRC), 33338888KKKKDDDD  for  double  density  IBM
          3490 cartridges, 33338888KKKKDDDDCCCC for 3490 cartridges with compac-
          tion (IDRC), 8888222200000000, 8888555500000000 or 8888555500000000CCCC for Exabytes,  DDDDDDDDSSSS  or
          DDDDDDDDSSSSCCCC  for DAT cartridges, 2222GGGG, 6666GGGG, 11110000GGGG, 11110000GGGGCCCC, 22220000GGGG, 22220000GGGGCCCC,
          33335555GGGG or 33335555GGGGCCCC for DLT cartridges, 11110000GGGG  or  11110000GGGGCCCC  for  IBM
          3590  cartridges, 11110000GGGG, 11110000GGGGCCCC, 22225555GGGG, 22225555GGGGCCCC, 55550000GGGG or 55550000GGGGCCCC for
          Redwood cartridges.  It must  match  the  device  group
          specified  in TMS (if installed).  If this parameter is
          missing, the value is taken from TMS.

     ----FFFF _r_e_c_f_m
          Specifies the record format of the data on the tape. It
          may be one of the following:

          UUUU,,,,ffff77777777
               Blocks may be of unknown length. A single  logical
               record  on disk corresponds to one tape block. The
               disk file must be formatted according to the  con-
               vention for sequential FORTRAN unformatted I/O.

          UUUU    is an alias for UUUU,,,,ffff77777777.

          UUUU,,,,bbbbiiiinnnn
               Each tape block created will be exactly  _b_l_o_c_k_s_i_z_e
               bytes  long (See the -b option) with the exception
               of the last block which may be shorter.  This for-
               mat is suitable for use with direct access Fortran
               unformatted I/O or C I/O.

          FFFF    Each tape block created will be exactly  _b_l_o_c_k_s_i_z_e
               bytes  long (See the -b option) with the exception
               of the last block which  may  be  shorter.   _l_r_e_c_l
               must  be  specified (-L option) and if both _b_l_o_c_k_-
               _s_i_z_e and _l_r_e_c_l are provided, they should be equal.
               This format is suitable for use with direct access
               Fortran unformatted I/O or C I/O.

          FFFFBBBB   This allows to  group  several  records  of  _l_r_e_c_l
               bytes  into tape blocks of _b_l_k_s_i_z_e bytes.  _b_l_k_s_i_z_e
               must be a multiple of _l_r_e_c_l.

          The default record format is UUUU.

     ----ffff _f_i_d
          Specifies the fileid in HDR1. If more than  17  charac-
          ters  long, only the last 17 are taken. It is then con-
          verted to upper case.  If the -f parameter  is  absent,



SunOS 5.5.1           Last change: 09/08/98                     2






STAGEOUT(l)       Misc. Reference Manual Pages        STAGEOUT(l)



          the  internal rrrrttttccccooooppppyyyy tape pathname is used instead.  In
          the case of multiple files, a series of  file  identif-
          iers  may  be  given, separated by ":"s. These apply to
          the tape files in the specified order.   If  there  are
          more  files than identifiers, the last one will be used
          for all remaining files. Thus, a single file identifier
          may be given which applies to all files on the tape.

     ----GGGG    Specifies that the  tape  copy  operations  should  be
          issued on the tape server by the 'group user'. A 'group
          user' may be defined for each group in ////eeeettttcccc////sssshhhhiiiifffftttt....ccccoooonnnnffff....
          For example:
               GRPUSER ws     opalprod

     ----gggg _d_g_n
          Requests a device from an installation defined  set  of
          "device groups".  It must match the device group speci-
          fied in TMS (if installed).  If this parameter is miss-
          ing, the value is taken from TMS or defaults to CART.

     ----hhhh _h_o_s_t
          Sends the request to the stager on _h_o_s_t.  This may also
          be specified thru the environment variable STAGE_HOST.

     ----IIII _e_x_t_e_r_n_a_l__f_i_l_e_n_a_m_e
          Gives the name of an external disk file. In this  case,
          rrrrffffccccpppp  will  be  used  to copy the file from the staging
          pool to that external file.

     ----KKKK    Keeps file on disk.  If this  option  is  absent,  the
          disk  file is removed as soon as the ssssttttaaaaggggeeeeppppuuuutttt operation
          is successful.

     ----LLLL _l_r_e_c_l
          Specifies the logical record length  for  fixed  length
          record format files.

     ----llll _l_a_b__t_y_p_e
          Specifies the type of label which should be checked  or
          generated. The following label types are supported:

          aaaallll   ANSI label

          nnnnllll   no label

          ssssllll   standard IBM label

          It must match the  label  type  specified  in  TMS  (if
          installed).  If this parameter is missing, the value is
          taken from TMS or defaults to ssssllll.

     ----MMMM _h_s_m_f_i_l_e



SunOS 5.5.1           Last change: 09/08/98                     3






STAGEOUT(l)       Misc. Reference Manual Pages        STAGEOUT(l)



          Gives the name of a Hierarchical Storage Manager  (HSM)
          file.  In this case, rrrrffffccccpppp will be used to copy the file
          from the staging pool to that HSM file.

     ----NNNN _n_r_e_a_d
          If specified, only _n_r_e_a_d records will  be  copied.   In
          the  case  of  multiple files, a series of nread values
          may be given, separated by ":"s.  These  apply  to  the
          tape  files  in the specified order.  If there are more
          files than nread values, the last one will be used  for
          all  remaining files. Thus, a single nread value may be
          given which applies to all files on the tape.

     ----nnnn    Implies new fileid. The existing fileid is not checked
          but  if  the  new file would overwrite an existing one,
          the old file expiry date is checked.

     ----oooo    Implies old fileid. The existing fileid is checked  if
          the option ----ffff is also specified.  If the new file would
          overwrite an existing one, the old file expiry date  is
          checked.

     ----pppp _p_o_o_l_n_a_m_e
          Allocates the file in the pool _p_o_o_l_n_a_m_e.  This may also
          be specified thru the environment variable STAGE_POOL.

     ----qqqq _f_s_e_q
          Specifies the  file  sequence  number(s)  of  the  tape
          file(s)  to  be created.  Default is 1.  Multiple files
          may be specified using the following syntax:

          _f_1-_f_2           Files _f_1 to _f_2 inclusive.

          nnnn              Append one file to the tape.

          nnnn_x             Append _x files to the tape.

          uuuu              Position the tape by fid.

     ----SSSS _s_e_r_v_e_r
          Specifies that the tape copy operation has to be issued
          on the tape server _s_e_r_v_e_r.

     ----ssss _s_i_z_e
          If specified, only _s_i_z_e Mbytes  will  be  copied.   The
          value  must  be  smaller  than 2048 (2 Gbytes).  In the
          case of multiple files, a series of size values may  be
          given, separated by ":"s. These apply to the tape files
          in the specified order.  If there are more  files  than
          size  values, the last one will be used for all remain-
          ing files. Thus, a single size value may be given which
          applies to all files on the tape.



SunOS 5.5.1           Last change: 09/08/98                     4






STAGEOUT(l)       Misc. Reference Manual Pages        STAGEOUT(l)



     ----tttt _d_a_y_s
          Retention period of the file on tape in  days.  A  file
          may  be  overwritten only if it is expired.  Default is
          0, which means that the file may be overwritten immedi-
          ately.

     ----UUUU _f_u_n
          Fortran unit number.  This is internally converted to a
          local  path ffffttttnnnn_f_u_n (HP-UX) or ffffoooorrrrtttt...._f_u_n (all other plat-
          forms).  The ----UUUU option and the _f_i_l_e  parameter  may  be
          both specified for single file allocation only.

     ----uuuu _u_s_e_r
          A file allocated in a pool will be  stored  in  a  sub-
          directory  _u_s_e_r.   This  may also be specified thru the
          environment variable STAGE_USER.  The default subdirec-
          tory name is ssssttttaaaaggggeeee.  _u_s_e_r must be a valid user name and
          belong to the same group as the requestor.

     ----VVVV _v_i_d
          Specifies the tape VID if different from the VSN  .  In
          the  case of multi-volume files a series of _v_i_ds may be
          given, separated by ":"s, in the  order  in  which  the
          tapes are to be used.

     ----vvvv _v_s_n
          Specifies the volume serial number of the tape. In  the
          case  of  a  multi-volume  file a series of _v_s_ns may be
          given, separated by ":"s, in the  order  in  which  the
          tapes  are  to  be used.  When -v and -V are both used,
          each _v_s_n must be matched by a _v_i_d in the same order.

EEEEXXXXAAAAMMMMPPPPLLLLEEEESSSS
     To allocate disk space for the output, generate the data and
     write them on a tape:
          stageout -v CUT222 out
          a.out out
          stageput out

RRRREEEETTTTUUUURRRRNNNN CCCCOOOODDDDEEEESSSS
     0    Ok.
     1    Bad parameter.
     2    System error.
     4    Configuration error.
     28   ENOSPC: unable to find enough disk space.
     192  Request cancelled by stageclr.









SunOS 5.5.1           Last change: 09/08/98                     5




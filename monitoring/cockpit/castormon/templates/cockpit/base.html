{% load extra_filter %}

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="Keywords" content="Cockpit" />

    <link href="/static/css/bootstrap.css" rel="stylesheet" />
    <link href="/static/css/base.css" rel="stylesheet" />
    <link href="/static/css/jquery-ui-1.8.18.custom.css" rel="Stylesheet" />

    <script type="text/javascript" src="/static/js/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="/static/js/jquery-ui-1.8.18.custom.min.js"></script> 
    <script type="text/javascript" src="/static/js/highstock.js"></script>
    <script type="text/javascript" src="/static/js/modules/exporting.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/js/scripts.js"></script>

    {% block extrahead %}{% endblock %}

    <title>{% block title %}CASTOR Cockpit{% endblock %}</title>
  </head>
  <body>
    <div id="sidebar">
        <div id="logo">
            <a href="/"><img class="logo" src="/static/img/CASTOR_logo_250.png" alt="CASTOR Logo"/></a>
        </div>
        <div id="sidebar-content">
            <h1>
                Metrics
            </h1>
            <div class="accordion" id="accordion">
                {% for category in metrics.keys %}
                <div class="accordion-group">
                    <div class="accordion-heading">
                        
                        <a class="accordion-toggle {% if metric_name and metric_name in metrics.dict|get:category %}current{% endif %}" data-toggle="collapse" data-parent="#accordion" href="#accordion{{ category }}">{{ category }}</a>
                        
                    </div>
                    <div id="accordion{{ category }}" class="accordion-body collapse {% if metric_name and metric_name in metrics.dict|get:category %}in{% endif%}">
                        <div class="accordion-inner">
                            <ul>
                            {% for metric in metrics.dict|get:category %}
                            <li><a href="/metric/{{ metric }}" class="{% if metric_name and metric_name == metric %}metric current{% endif %}">{{ metric }}</a></li>
                            {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <h1>
                Info
            </h1>
            <ul>
                <li><a href="https://twiki.cern.ch/twiki/bin/view/DSSGroup/CockpitWebInterface">Twiki page</a></li>
                <li><a href="/sls">SLS overview</a></li>
                <li><a href="/dlf">Log viewer</a></li>
            {% if rpyc_status %}
                <li class="rpyc-status rpyc-up">RPyC Server : <img src="/static/img/button_ok.png" alt="UP" /></li>
            {% else %}
                <li class="rpyc-status rpyc-down">RPyC Server : <img src="/static/img/button_cancel.png" alt="DOWN" /><p>Data not up-to-date !</p></li>
                
            {% endif %}
            </ul>
        </div>
    </div>
    <div id="main">
            <div id="header">
                {% block header %}{% endblock %}
            </div>
            <div id="content">
                {% block content %}{% endblock %}
            </div>
    </div>
    {% if messages %}
        <div id="messages">
        {% for message in messages %}
        {{ message }}
        {% endfor %}
        </div>
    {% endif %}
  </body>
</html>

.\" @(#)$RCSfile: vmgr_modifyweight.man,v $ $Revision: 1.1 $ $Date: 2005/03/17 10:23:36 $ CERN IT-PDP/DM Jean-Philippe Baud
.\" Copyright (C) 1999-2002 by CERN/IT/PDP/DM
.\" All rights reserved
.\"
.TH VMGR_MODIFYWEIGHT 3 "$Date: 2005/03/17 10:23:36 $" CASTOR "vmgr Library Functions"
.SH NAME
vmgr_modifyweight \- modify the weight/delta assigned to a dgn in the CASTOR Volume Manager
.SH SYNOPSIS
.B #include <sys/types.h>
.br
\fB#include "vmgr_api.h"\fR
.sp
.BI "int vmgr_modifyweight (char *" dgn ,
.BI "int " weight ,
.BI "int " delta ,
.BI "int " valid )
.SH DESCRIPTION
.B vmgr_modifyweight
modifies the weight/delta assigned to a dgn in the CASTOR Volume Manager
.TP
.I dgn
is the device group name.
It must be at most CA_MAXDGNLEN characters long.
.TP
.I weight
is the weight that we want to assign to the given dgn. The higher the weight,
the more priority the dgn will have.
.TP
.I delta
is the delta that we want to assign to the given dgn. delta is the increment
in weight every time a tape is selected for writing
.TP
.I valid
is the flag wheter weight and/or delta has a meaningless value
.LP
The first parameter is mandatory. Weight and delta can have both a value with a meaning, or only one, but at least one should have valid information. Valid indicates if they have meaning or not, and can't be 0. 
.LP
This function requires ADMIN privilege in the Cupv database.
.SH RETURN VALUE
This routine returns 0 if the operation was successful or -1 if the operation
failed. In the latter case,
.B serrno
is set appropriately.
.SH ERRORS
.TP 1.3i
.B ENOENT
The named dgn does not exist
.TP
.B EINVAL
The length of
.I dgn
exceeds CA_MAXDGNLEN.
.TP
.B SENOSHOST
Host unknown.
.TP
.B SENOSSERV
Service unknown.
.TP
.B SECOMERR
Communication error.
.TP
.B EVMGRNACT
Volume manager is not running or is being shutdown.
.SH SEE ALSO
.BR Castor_limits(4) ,
.BR Cupvlist(1) ,
.B vmgrmodifyweight(3)
.SH AUTHOR
\fBCASTOR\fP Team <castor.support@cern.ch>
